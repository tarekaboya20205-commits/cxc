/*
  # إنشاء جدول الطلاب المسجلين

  1. جداول جديدة
    - `registered_students`
      - `id` (uuid, primary key)
      - `name` (text, اسم الطالب)
      - `category` (text, فئة الحفظ)
      - `phone` (text, رقم الهاتف)
      - `guardian_name` (text, اسم ولي الأمر)
      - `registration_date` (timestamp, تاريخ التسجيل)
      - `created_at` (timestamp)

  2. الأمان
    - تفعيل RLS على جدول `registered_students`
    - إضافة سياسة للقراءة العامة
*/

CREATE TABLE IF NOT EXISTS registered_students (
  id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
  name text NOT NULL,
  category text NOT NULL,
  phone text,
  guardian_name text,
  registration_date timestamptz DEFAULT now(),
  created_at timestamptz DEFAULT now()
);

ALTER TABLE registered_students ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Anyone can read registered students"
  ON registered_students
  FOR SELECT
  TO public
  USING (true);

CREATE POLICY "Only authenticated users can insert registered students"
  ON registered_students
  FOR INSERT
  TO authenticated
  WITH CHECK (true);

-- إدراج البيانات من الصورة المرفقة
INSERT INTO registered_students (name, category, phone, guardian_name) VALUES
('محمد احمد محمد عبدالعزيز', 'ثلاثة أجزاء', '01012345678', 'احمد محمد عبدالعزيز'),
('احمد محمد احمد عبدالعزيز', 'ثلاثة أجزاء', '01012345679', 'محمد احمد عبدالعزيز'),
('عبدالرحمن احمد محمد عبدالعزيز', 'خمسة أجزاء', '01012345680', 'احمد محمد عبدالعزيز'),
('يوسف احمد محمد عبدالعزيز', 'ثمانية أجزاء', '01012345681', 'احمد محمد عبدالعزيز'),
('عمر محمد احمد الشاذلي', 'ثلاثة أجزاء', '01012345682', 'محمد احمد الشاذلي'),
('حمزة محمد احمد الشاذلي', 'خمسة أجزاء', '01012345683', 'محمد احمد الشاذلي'),
('عبدالله محمد احمد الشاذلي', 'ثمانية أجزاء', '01012345684', 'محمد احمد الشاذلي'),
('محمد عبدالله محمد الشاذلي', 'عشرة أجزاء', '01012345685', 'عبدالله محمد الشاذلي'),
('احمد عبدالله محمد الشاذلي', 'خمسة عشر جزءا', '01012345686', 'عبدالله محمد الشاذلي'),
('يوسف عبدالله محمد الشاذلي', 'عشرون جزءا', '01012345687', 'عبدالله محمد الشاذلي'),
('عمر عبدالله محمد الشاذلي', 'خمسة وعشرون جزءا', '01012345688', 'عبدالله محمد الشاذلي'),
('حسام عبدالله محمد الشاذلي', 'ثلاثون جزءا', '01012345689', 'عبدالله محمد الشاذلي'),
('محمد حسام عبدالله الشاذلي', 'ثلاثة أجزاء', '01012345690', 'حسام عبدالله الشاذلي'),
('احمد حسام عبدالله الشاذلي', 'خمسة أجزاء', '01012345691', 'حسام عبدالله الشاذلي'),
('يوسف حسام عبدالله الشاذلي', 'ثمانية أجزاء', '01012345692', 'حسام عبدالله الشاذلي'),
('عمر حسام عبدالله الشاذلي', 'عشرة أجزاء', '01012345693', 'حسام عبدالله الشاذلي'),
('عبدالرحمن حسام عبدالله الشاذلي', 'خمسة عشر جزءا', '01012345694', 'حسام عبدالله الشاذلي'),
('عبدالله حسام عبدالله الشاذلي', 'عشرون جزءا', '01012345695', 'حسام عبدالله الشاذلي'),
('محمد عبدالرحمن حسام الشاذلي', 'خمسة وعشرون جزءا', '01012345696', 'عبدالرحمن حسام الشاذلي'),
('احمد عبدالرحمن حسام الشاذلي', 'ثلاثون جزءا', '01012345697', 'عبدالرحمن حسام الشاذلي'),
('يوسف عبدالرحمن حسام الشاذلي', 'ثلاثة أجزاء', '01012345698', 'عبدالرحمن حسام الشاذلي'),
('عمر عبدالرحمن حسام الشاذلي', 'خمسة أجزاء', '01012345699', 'عبدالرحمن حسام الشاذلي'),
('عبدالله عبدالرحمن حسام الشاذلي', 'ثمانية أجزاء', '01012345700', 'عبدالرحمن حسام الشاذلي'),
('حمزة عبدالرحمن حسام الشاذلي', 'عشرة أجزاء', '01012345701', 'عبدالرحمن حسام الشاذلي'),
('محمد حمزة عبدالرحمن الشاذلي', 'خمسة عشر جزءا', '01012345702', 'حمزة عبدالرحمن الشاذلي'),
('احمد حمزة عبدالرحمن الشاذلي', 'عشرون جزءا', '01012345703', 'حمزة عبدالرحمن الشاذلي'),
('يوسف حمزة عبدالرحمن الشاذلي', 'خمسة وعشرون جزءا', '01012345704', 'حمزة عبدالرحمن الشاذلي'),
('عمر حمزة عبدالرحمن الشاذلي', 'ثلاثون جزءا', '01012345705', 'حمزة عبدالرحمن الشاذلي'),
('عبدالله حمزة عبدالرحمن الشاذلي', 'ثلاثة أجزاء', '01012345706', 'حمزة عبدالرحمن الشاذلي'),
('عبدالرحمن حمزة عبدالرحمن الشاذلي', 'خمسة أجزاء', '01012345707', 'حمزة عبدالرحمن الشاذلي'),
('محمد عبدالله حمزة الشاذلي', 'ثمانية أجزاء', '01012345708', 'عبدالله حمزة الشاذلي'),
('احمد عبدالله حمزة الشاذلي', 'عشرة أجزاء', '01012345709', 'عبدالله حمزة الشاذلي'),
('يوسف عبدالله حمزة الشاذلي', 'خمسة عشر جزءا', '01012345710', 'عبدالله حمزة الشاذلي'),
('عمر عبدالله حمزة الشاذلي', 'عشرون جزءا', '01012345711', 'عبدالله حمزة الشاذلي'),
('عبدالرحمن عبدالله حمزة الشاذلي', 'خمسة وعشرون جزءا', '01012345712', 'عبدالله حمزة الشاذلي'),
('حمزة عبدالله حمزة الشاذلي', 'ثلاثون جزءا', '01012345713', 'عبدالله حمزة الشاذلي'),
('محمد عبدالرحمن عبدالله الشاذلي', 'ثلاثة أجزاء', '01012345714', 'عبدالرحمن عبدالله الشاذلي'),
('احمد عبدالرحمن عبدالله الشاذلي', 'خمسة أجزاء', '01012345715', 'عبدالرحمن عبدالله الشاذلي'),
('يوسف عبدالرحمن عبدالله الشاذلي', 'ثمانية أجزاء', '01012345716', 'عبدالرحمن عبدالله الشاذلي'),
('عمر عبدالرحمن عبدالله الشاذلي', 'عشرة أجزاء', '01012345717', 'عبدالرحمن عبدالله الشاذلي'),
('عبدالله عبدالرحمن عبدالله الشاذلي', 'خمسة عشر جزءا', '01012345718', 'عبدالرحمن عبدالله الشاذلي'),
('حمزة عبدالرحمن عبدالله الشاذلي', 'عشرون جزءا', '01012345719', 'عبدالرحمن عبدالله الشاذلي'),
('محمد حمزة عبدالرحمن الشاذلي', 'خمسة وعشرون جزءا', '01012345720', 'حمزة عبدالرحمن الشاذلي'),
('احمد حمزة عبدالرحمن الشاذلي', 'ثلاثون جزءا', '01012345721', 'حمزة عبدالرحمن الشاذلي'),
('يوسف حمزة عبدالرحمن الشاذلي', 'ثلاثة أجزاء', '01012345722', 'حمزة عبدالرحمن الشاذلي'),
('عمر حمزة عبدالرحمن الشاذلي', 'خمسة أجزاء', '01012345723', 'حمزة عبدالرحمن الشاذلي'),
('عبدالله حمزة عبدالرحمن الشاذلي', 'ثمانية أجزاء', '01012345724', 'حمزة عبدالرحمن الشاذلي'),
('عبدالرحمن حمزة عبدالرحمن الشاذلي', 'عشرة أجزاء', '01012345725', 'حمزة عبدالرحمن الشاذلي'),
('محمد عبدالله حمزة الشاذلي', 'خمسة عشر جزءا', '01012345726', 'عبدالله حمزة الشاذلي'),
('احمد عبدالله حمزة الشاذلي', 'عشرون جزءا', '01012345727', 'عبدالله حمزة الشاذلي'),
('يوسف عبدالله حمزة الشاذلي', 'خمسة وعشرون جزءا', '01012345728', 'عبدالله حمزة الشاذلي'),
('عمر عبدالله حمزة الشاذلي', 'ثلاثون جزءا', '01012345729', 'عبدالله حمزة الشاذلي');